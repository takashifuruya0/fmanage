{% extends "kakeibo/base.html" %}
{% load humanize %}
{% block title %}
    Event-Detail
{% endblock %}

{% block body %}
<div class="container">
    <hr>
    <h1><i class="far fa-calendar-check"></i> イベント詳細</h1>
    <hr>

    <table class="table table-light table-hover table-sm table-bordered table-responsive-md">
        <tr>
            <th>id</th>
            <td>{{object.pk}}</td>
        </tr>
        <tr>
            <th>Date</th>
            <td>{{object.date | date}}</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>{{object.name}}</td>
        </tr>
        <tr>
            <th>Memo</th>
            <td>{{object.memo}}</td>
        </tr>
        <tr>
            <th>Sum (Actual)</th>
            <td>¥ {{object.sum_actual |intcomma}}</td>
        </tr>
        <tr>
            <th>Sum (Plan)</th>
            <td>¥ {{object.sum_plan |intcomma}}</td>
        </tr>
        <tr>
            <th>Diff</th>
            <td>¥ {{object.diff_from_plan |intcomma}}</td>
        </tr>
        <tr>
            <th>Count</th>
            <td>{{object.count_actual}}</td>
        </tr>
    </table>

    <table class="table table-light table-hover table-sm table-bordered table-responsive-md">
        <tr>
            <th>No</th>
            <th>Date</th>
            <th>Fee</th>
            <th>Way</th>
            <th>Usage</th>
            <th>Memo</th>
        </tr>
        {% for k in object.event_kakeibo.all %}
        <tr>
            <td>{{k.pk}}</td>
            <td>{{k.date}}</td>
            <td>¥{{k.fee |intcomma}}</td>
            <td>{{k.way}}</td>
            <td>{{k.usage}}</td>
            <td>{{k.memo}}</td>
        </tr>
        {% endfor %}
    </table>
    <div class="row">
        <div class="col-sm-6">
            <a href="{% url 'kakeibo:event_update' pk=object.pk %}" class="btn btn-info">Edit</a>
            <a href="{% url 'kakeibo:event_list' %}" class="btn btn-secondary">Back to list</a>
        </div>
    </div>
</div>

{% endblock %}
